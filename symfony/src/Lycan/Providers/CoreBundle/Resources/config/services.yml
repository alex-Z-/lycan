services:
    # ...


     lycan.provider.api.factory:
            class: Lycan\Providers\CoreBundle\API\ClientFactory
            arguments:  ~
            calls:
                - [ setContainer,[ @service_container ] ]

     lycan.provider.manager.factory:
            class: Lycan\Providers\CoreBundle\API\ManagerFactory
            arguments:  ~
            calls:
                - [ setContainer,[ @service_container ] ]

     admin.lycan.batch_executions:
            class: Lycan\Providers\CoreBundle\Admin\BatchExecutionsAdmin
            arguments: [~, Lycan\Providers\CoreBundle\Entity\BatchExecutions,  CoreBundle:CRUD  ]
            tags:
                - { name: sonata.admin, manager_type: orm, group: Executions, label: Jobs }
            calls:
                - [ setContainer,[ @service_container ] ]
                - [ addChild, ['@admin.lycan.events']]

     admin.lycan.policy:
          class: Lycan\Providers\CoreBundle\Admin\PolicyAdmin
          arguments: [~, Lycan\Providers\CoreBundle\Entity\Policy, ~  ]
          tags:
            - { name: sonata.admin, manager_type: orm, group: Providers, label: Policies }
          calls:
            - [ setContainer,[ @service_container ] ]


     admin.lycan.provider_policy:
          class: Lycan\Providers\CoreBundle\Admin\ProviderPolicyAdmin
          arguments: [~, Lycan\Providers\CoreBundle\Entity\ProviderPolicyRegistry, ~  ]
          tags:
            - { name: sonata.admin, manager_type: orm, group: ~, label: ~, show_in_dashboard: false }
          calls:
            - [ setContainer,[ @service_container ] ]


     admin.lycan.events:
            class: Lycan\Providers\CoreBundle\Admin\EventsAdmin
            arguments: [~, Lycan\Providers\CoreBundle\Entity\Event,  CoreBundle:CRUD  ]
            tags:
                - { name: sonata.admin, manager_type: orm, group: Executions, label: Events, pager_type: "simple" }
            calls:
                - [ setContainer,[ @service_container ] ]
                - [ setTemplate, [ list, CoreBundle:Admin/Events:list.html.twig ]]

